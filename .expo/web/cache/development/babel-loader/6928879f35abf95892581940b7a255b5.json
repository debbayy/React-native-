{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from \"react\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { List, Box, Text, HStack } from \"native-base\";\nimport { MaterialCommunityIcons, AntDesign } from \"@expo/vector-icons\";\nimport Svg, { Circle, SvgUri } from \"react-native-svg\";\nimport axios from \"axios\";\nimport AddTodo from \"../screens/AddTodo\";\nimport iconTodo from \"../../assets/ICON.svg\";\nexport default function ListTodo() {\n  var _this = this;\n\n  var url = \"https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos\";\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      todo = _useState2[0],\n      setTodos = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isLoading = _useState4[0],\n      setIsLoading = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      action = _useState6[0],\n      setAction = _useState6[1];\n\n  var getTodos = function getTodos() {\n    var res;\n    return _regeneratorRuntime.async(function getTodos$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setIsLoading(true);\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(axios.get(\"https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos\"));\n\n          case 4:\n            res = _context.sent;\n            setTodos(res.data);\n            console.log(res.data);\n            console.log(todo);\n            _this.props;\n            _context.next = 15;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](1);\n            alert(\"Data Not Found\");\n            setIsLoading(false);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 11]], Promise);\n  };\n\n  var handleSubmit = function handleSubmit() {\n    var data, getdata, response;\n    return _regeneratorRuntime.async(function handleSubmit$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            data = {\n              title: title\n            };\n            getdata = \"https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos\";\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(axios.post(\"\" + getdata, data));\n\n          case 5:\n            response = _context2.sent;\n            setTitle(\"\");\n            console.log(response);\n            _context2.next = 13;\n            break;\n\n          case 10:\n            _context2.prev = 10;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 10]], Promise);\n  };\n\n  var handleDelete = function handleDelete(id) {\n    var response;\n    return _regeneratorRuntime.async(function handleDelete$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            console.log(id);\n            _context3.next = 4;\n            return _regeneratorRuntime.awrap(axios.delete(\"https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos/\" + id));\n\n          case 4:\n            response = _context3.sent;\n            setAction(!action);\n            _context3.next = 11;\n            break;\n\n          case 8:\n            _context3.prev = 8;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.log(_context3.t0);\n\n          case 11:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  var _renderItem = function _renderItem(_ref) {\n    var item = _ref.item;\n    return React.createElement(List, {\n      key: item.id,\n      my: 2,\n      spacing: 2,\n      bg: \"primary.50\",\n      borderRadius: 10\n    }, React.createElement(List.Item, null, React.createElement(HStack, {\n      space: 6,\n      w: \"100%\"\n    }, React.createElement(MaterialCommunityIcons, {\n      onPress: function onPress() {\n        return handleDelete(item._id);\n      },\n      name: \"delete-empty\",\n      size: 24,\n      color: \"red\"\n    }), React.createElement(Text, {\n      style: {\n        fontSize: 18,\n        fontWeight: \"700\",\n        marginLeft: -10,\n        paddingTop: 3\n      }\n    }, item.title))));\n  };\n\n  useEffect(function () {\n    getTodos();\n  }, [action]);\n  return React.createElement(Box, {\n    mt: 5,\n    mx: 5,\n    flex: 1\n  }, React.createElement(HStack, null, React.createElement(Text, {\n    mb: 2,\n    fontWeight: \"bold\",\n    style: {\n      marginRight: 93,\n      fontSize: 19,\n      color: \"#3F0713\"\n    }\n  }, \"TODO LIST\"), React.createElement(AddTodo, null)), (todo == null ? void 0 : todo.length) < 1 ? React.createElement(Box, {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    mt: \"10\"\n  }, React.createElement(AntDesign, {\n    name: \"frowno\",\n    size: 100,\n    color: \"#AA2B1D\"\n  }), React.createElement(Text, {\n    alignItems: \"center\",\n    fontSize: \"20\",\n    mt: \"17\",\n    color: \"#AA2B1D\"\n  }, \"Upss List Is ...\")) : React.createElement(FlatList, {\n    style: {\n      marginTop: 20\n    },\n    data: todo,\n    renderItem: _renderItem,\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    refreshing: isLoading,\n    onRefresh: getTodos\n  }));\n}","map":{"version":3,"sources":["D:/debbayy/Calculator&todo/src/components/ListTodo.jsx"],"names":["React","useEffect","useState","List","Box","Text","HStack","MaterialCommunityIcons","AntDesign","Svg","Circle","SvgUri","axios","AddTodo","iconTodo","ListTodo","url","todo","setTodos","isLoading","setIsLoading","action","setAction","getTodos","get","res","data","console","log","props","alert","handleSubmit","title","getdata","post","response","setTitle","handleDelete","id","delete","_renderItem","item","_id","fontSize","fontWeight","marginLeft","paddingTop","marginRight","color","length","marginTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { FlatList, Image } from \"react-native\";\r\nimport { List, Box, Text, HStack } from \"native-base\";\r\nimport { MaterialCommunityIcons, AntDesign } from \"@expo/vector-icons\";\r\nimport Svg, { Circle, SvgUri } from \"react-native-svg\";\r\nimport axios from \"axios\";\r\nimport AddTodo from \"../screens/AddTodo\";\r\nimport iconTodo from \"../../assets/ICON.svg\";\r\n\r\nexport default function ListTodo() {\r\n  const url =\r\n    \"https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos\";\r\n\r\n  const [todo, setTodos] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [action, setAction] = useState(false);\r\n\r\n  const getTodos = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const res = await axios.get(\r\n        \"https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos\"\r\n      );\r\n\r\n      setTodos(res.data);\r\n      console.log(res.data);\r\n      console.log(todo);\r\n      this.props;\r\n    } catch (error) {\r\n      alert(\"Data Not Found\");\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  //submit\r\n  const handleSubmit = async () => {\r\n    try {\r\n      const data = {\r\n        title,\r\n      };\r\n\r\n      const getdata =\r\n        \"https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos\";\r\n\r\n      const response = await axios.post(`${getdata}`, data);\r\n      setTitle(\"\");\r\n\r\n      console.log(response);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      console.log(id);\r\n      const response = await axios.delete(\r\n        `https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos/${id}`\r\n      );\r\n      setAction(!action);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const _renderItem = ({ item }) => {\r\n    /*  console.log(item); */\r\n    return (\r\n      <List key={item.id} my={2} spacing={2} bg=\"primary.50\" borderRadius={10}>\r\n        <List.Item>\r\n          <HStack space={6} w=\"100%\">\r\n            <MaterialCommunityIcons\r\n              onPress={() => handleDelete(item._id)}\r\n              name=\"delete-empty\"\r\n              size={24}\r\n              color=\"red\"\r\n            />\r\n            <Text\r\n              style={{\r\n                fontSize: 18,\r\n                fontWeight: \"700\",\r\n                marginLeft: -10,\r\n                paddingTop: 3,\r\n              }}\r\n            >\r\n              {item.title}\r\n            </Text>\r\n          </HStack>\r\n        </List.Item>\r\n      </List>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    getTodos();\r\n  }, [action]);\r\n\r\n  return (\r\n    <Box mt={5} mx={5} flex={1}>\r\n      <HStack>\r\n        <Text\r\n          mb={2}\r\n          fontWeight=\"bold\"\r\n          style={{ marginRight: 93, fontSize: 19, color: \"#3F0713\" }}\r\n        >\r\n          TODO LIST\r\n        </Text>\r\n        <AddTodo />\r\n      </HStack>\r\n      {todo?.length < 1 ? (\r\n        <Box flex={1} alignItems=\"center\" justifyContent=\"center\" mt=\"10\">\r\n          <AntDesign name=\"frowno\" size={100} color=\"#AA2B1D\" />\r\n          <Text alignItems=\"center\" fontSize=\"20\" mt=\"17\" color=\"#AA2B1D\">\r\n            Upss List Is ...\r\n          </Text>\r\n          {/* <Image source={iconTodo} width=\"200\" height=\"200\" /> */}\r\n        </Box>\r\n      ) : (\r\n        <FlatList\r\n          style={{ marginTop: 20 }}\r\n          data={todo}\r\n          renderItem={_renderItem}\r\n          keyExtractor={(item) => item.id}\r\n          refreshing={isLoading}\r\n          onRefresh={getTodos}\r\n        />\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}