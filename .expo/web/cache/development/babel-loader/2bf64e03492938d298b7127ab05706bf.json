{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Icon from \"@expo/vector-icons/MaterialIcons\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nvar COLORS = {\n  primary: \"#1f145c\",\n  white: \"#fff\"\n};\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\n\nvar Todos = function Todos() {\n  var url = \"https://api.kontenbase.com/query/api/v1\";\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      todos = _useState2[0],\n      setTodos = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      textInput = _useState4[0],\n      setTextInput = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      title = _useState6[0],\n      setTitle = _useState6[1];\n\n  useEffect(function () {\n    getTodosFromUserDevice();\n  }, []);\n  useEffect(function () {\n    saveTodoToUserDevice(todos);\n  }, [todos]);\n  useEffect(function () {\n    saveTodoToUserDevice(title);\n  }, [title]);\n\n  var addTodo = function addTodo() {\n    var data, adddata, response;\n    return _regeneratorRuntime.async(function addTodo$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            data = {\n              title: title\n            };\n            adddata = \"https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos\";\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(axios.post(\"\" + adddata, data));\n\n          case 5:\n            response = _context.sent;\n            setTitle(\"\");\n            console.log(response);\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 10]], Promise);\n  };\n\n  var saveTodoToUserDevice = function saveTodoToUserDevice(todos) {\n    var stringifyTodos;\n    return _regeneratorRuntime.async(function saveTodoToUserDevice$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            stringifyTodos = JSON.stringify(todos);\n            _context2.next = 4;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"todos\", stringifyTodos));\n\n          case 4:\n            _context2.next = 9;\n            break;\n\n          case 6:\n            _context2.prev = 6;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 6]], Promise);\n  };\n\n  var getTodosFromUserDevice = function getTodosFromUserDevice() {\n    var _todos;\n\n    return _regeneratorRuntime.async(function getTodosFromUserDevice$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"todos\"));\n\n          case 3:\n            _todos = _context3.sent;\n\n            if (_todos != null) {\n              setTodos(JSON.parse(_todos));\n            }\n\n            _context3.next = 10;\n            break;\n\n          case 7:\n            _context3.prev = 7;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.log(_context3.t0);\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var markTodoComplete = function markTodoComplete(todoId) {\n    var newTodosItem = todos.map(function (item) {\n      if (item.id == todoId) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          completed: true\n        });\n      }\n\n      return item;\n    });\n    setTodos(newTodosItem);\n  };\n\n  var editTodo = function editTodo() {\n    if (textInput == \"\") {\n      Alert.alert(\"Error\", \"Please input todo\");\n    } else {\n      var newTodo = {\n        id: Math.random(),\n        task: textInput,\n        completed: true\n      };\n      setTodos([].concat(_toConsumableArray(todos), [newTodo]));\n      setTextInput(\"\");\n    }\n  };\n\n  var deleteTodo = function deleteTodo(todoId) {\n    var newTodosItem = todos.filter(function (item) {\n      return item.id != todoId;\n    });\n    setTodos(newTodosItem);\n  };\n\n  var clearAllTodos = function clearAllTodos() {\n    Alert.alert(\"Confirm\", \"Clear todos?\", [{\n      text: \"Yes\",\n      onPress: function onPress() {\n        return setTodos([]);\n      }\n    }, {\n      text: \"No\"\n    }]);\n  };\n\n  var ListItem = function ListItem(_ref) {\n    var todo = _ref.todo;\n    return React.createElement(View, {\n      style: styles.listItem\n    }, React.createElement(View, {\n      style: {\n        flex: 1\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontWeight: \"bold\",\n        fontSize: 15,\n        color: COLORS.primary,\n        textDecorationLine: todo != null && todo.completed ? \"line-through\" : \"none\"\n      }\n    }, todo == null ? void 0 : todo.task)), !(todo != null && todo.completed) && React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return markTodoComplete(todo.id);\n      }\n    }, React.createElement(View, {\n      style: [styles.actionIcon, {\n        backgroundColor: \"green\"\n      }]\n    }, React.createElement(Icon, {\n      name: \"done\",\n      size: 20,\n      color: \"white\"\n    }))), React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return deleteTodo(todo.id);\n      }\n    }, React.createElement(View, {\n      style: styles.actionIcon\n    }, React.createElement(Icon, {\n      name: \"delete\",\n      size: 20,\n      color: \"white\"\n    }))), React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return editTodo(todo.id);\n      }\n    }, React.createElement(View, {\n      style: styles.actionIcon\n    }, React.createElement(Icon, {\n      name: \"edit\",\n      size: 20,\n      color: \"white\"\n    }))));\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: {\n      flex: 1,\n      backgroundColor: \"blue\"\n    }\n  }, React.createElement(View, {\n    style: styles.header\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: \"bold\",\n      fontSize: 20,\n      color: COLORS.primary\n    }\n  }, \"TODO APP\"), React.createElement(Icon, {\n    name: \"delete\",\n    size: 25,\n    color: \"red\",\n    onPress: clearAllTodos\n  })), React.createElement(FlatList, {\n    showsVerticalScrollIndicator: false,\n    contentContainerStyle: {\n      padding: 20,\n      paddingBottom: 100\n    },\n    data: todos,\n    onRefresh: getTodos,\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(ListItem, {\n        todo: item\n      });\n    }\n  }), React.createElement(View, {\n    style: styles.footer\n  }, React.createElement(View, {\n    style: styles.inputContainer\n  }, React.createElement(TextInput, {\n    style: {\n      padding: 15,\n      marginHorizontal: -20,\n      borderRadius: 50,\n      border: \"none\"\n    },\n    value: title,\n    placeholder: \"Add Todo\",\n    onChangeText: function onChangeText(text) {\n      return setTitle(text);\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: addTodo\n  }, React.createElement(View, {\n    style: styles.iconContainer\n  }, React.createElement(Icon, {\n    name: \"add\",\n    color: \"white\",\n    size: 30\n  })))));\n};\n\nvar styles = StyleSheet.create({\n  footer: {\n    position: \"absolute\",\n    bottom: 0,\n    width: \"100%\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingHorizontal: 20,\n    backgroundColor: \"#FF5757\"\n  },\n  inputContainer: {\n    height: 50,\n    paddingHorizontal: 20,\n    elevation: 40,\n    backgroundColor: COLORS.white,\n    flex: 1,\n    marginVertical: 20,\n    marginRight: 20,\n    borderRadius: 30\n  },\n  iconContainer: {\n    height: 50,\n    width: 50,\n    backgroundColor: COLORS.primary,\n    elevation: 40,\n    borderRadius: 25,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  listItem: {\n    padding: 20,\n    backgroundColor: COLORS.white,\n    flexDirection: \"row\",\n    elevation: 12,\n    borderRadius: 7,\n    marginVertical: 10\n  },\n  actionIcon: {\n    height: 25,\n    width: 25,\n    backgroundColor: COLORS.white,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"red\",\n    marginLeft: 5,\n    borderRadius: 3\n  },\n  header: {\n    padding: 20,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  }\n});\nexport default Todos;","map":{"version":3,"sources":["D:/debbayy/Calculator&todo/src/components/todos.js"],"names":["React","useState","Icon","AsyncStorage","COLORS","primary","white","axios","useEffect","Todos","url","todos","setTodos","textInput","setTextInput","title","setTitle","getTodosFromUserDevice","saveTodoToUserDevice","addTodo","data","adddata","post","response","console","log","stringifyTodos","JSON","stringify","setItem","getItem","parse","markTodoComplete","todoId","newTodosItem","map","item","id","completed","editTodo","Alert","alert","newTodo","Math","random","task","deleteTodo","filter","clearAllTodos","text","onPress","ListItem","todo","styles","listItem","flex","fontWeight","fontSize","color","textDecorationLine","actionIcon","backgroundColor","header","padding","paddingBottom","getTodos","footer","inputContainer","marginHorizontal","borderRadius","border","iconContainer","StyleSheet","create","position","bottom","width","flexDirection","alignItems","paddingHorizontal","height","elevation","marginVertical","marginRight","justifyContent","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  SafeAreaView,\r\n  View,\r\n  TextInput,\r\n  Text,\r\n  FlatList,\r\n  TouchableOpacity,\r\n  Alert,\r\n} from \"react-native\";\r\nimport Icon from \"react-native-vector-icons/MaterialIcons\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nconst COLORS = { primary: \"#1f145c\", white: \"#fff\" };\r\nimport axios from \"axios\";\r\n\r\nimport { useEffect } from \"react\";\r\n\r\nconst Todos = () => {\r\n  const url = \"https://api.kontenbase.com/query/api/v1\";\r\n  const [todos, setTodos] = useState([]);\r\n  const [textInput, setTextInput] = useState(\"\");\r\n\r\n  const [title, setTitle] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getTodosFromUserDevice();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    saveTodoToUserDevice(todos);\r\n  }, [todos]);\r\n\r\n  useEffect(() => {\r\n    saveTodoToUserDevice(title);\r\n  }, [title]);\r\n\r\n  const addTodo = async () => {\r\n    try {\r\n      const data = {\r\n        title,\r\n      };\r\n\r\n      const adddata =\r\n        \"https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos\";\r\n\r\n      const response = await axios.post(`${adddata}`, data);\r\n      setTitle(\"\");\r\n\r\n      console.log(response);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  //   const getTodos = async () => {\r\n  //     setIsLoading(true);\r\n  //     try {\r\n  //       const res = await axios.get(\r\n  //         \"https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos\"\r\n  //       );\r\n\r\n  //       // setTitle(res.data);\r\n  //       console.log(res.data);\r\n  //       console.log(title);\r\n  //     } catch (error) {\r\n  //       alert(\"Data Not Found\");\r\n  //       setIsLoading(false);\r\n  //     }\r\n  //   };\r\n\r\n  const saveTodoToUserDevice = async (todos) => {\r\n    try {\r\n      const stringifyTodos = JSON.stringify(todos);\r\n      await AsyncStorage.setItem(\"todos\", stringifyTodos);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const getTodosFromUserDevice = async () => {\r\n    try {\r\n      const todos = await AsyncStorage.getItem(\"todos\");\r\n      if (todos != null) {\r\n        setTodos(JSON.parse(todos));\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const markTodoComplete = (todoId) => {\r\n    const newTodosItem = todos.map((item) => {\r\n      if (item.id == todoId) {\r\n        return { ...item, completed: true };\r\n      }\r\n      return item;\r\n    });\r\n\r\n    setTodos(newTodosItem);\r\n  };\r\n\r\n  const editTodo = () => {\r\n    if (textInput == \"\") {\r\n      Alert.alert(\"Error\", \"Please input todo\");\r\n    } else {\r\n      const newTodo = {\r\n        id: Math.random(),\r\n        task: textInput,\r\n        completed: true,\r\n      };\r\n      setTodos([...todos, newTodo]);\r\n      setTextInput(\"\");\r\n    }\r\n  };\r\n\r\n  const deleteTodo = (todoId) => {\r\n    const newTodosItem = todos.filter((item) => item.id != todoId);\r\n    setTodos(newTodosItem);\r\n  };\r\n\r\n  const clearAllTodos = () => {\r\n    Alert.alert(\"Confirm\", \"Clear todos?\", [\r\n      {\r\n        text: \"Yes\",\r\n        onPress: () => setTodos([]),\r\n      },\r\n      {\r\n        text: \"No\",\r\n      },\r\n    ]);\r\n  };\r\n\r\n  const ListItem = ({ todo }) => {\r\n    return (\r\n      <View style={styles.listItem}>\r\n        <View style={{ flex: 1 }}>\r\n          <Text\r\n            style={{\r\n              fontWeight: \"bold\",\r\n              fontSize: 15,\r\n              color: COLORS.primary,\r\n              textDecorationLine: todo?.completed ? \"line-through\" : \"none\",\r\n            }}\r\n          >\r\n            {todo?.task}\r\n          </Text>\r\n        </View>\r\n        {!todo?.completed && (\r\n          <TouchableOpacity onPress={() => markTodoComplete(todo.id)}>\r\n            <View style={[styles.actionIcon, { backgroundColor: \"green\" }]}>\r\n              <Icon name=\"done\" size={20} color=\"white\" />\r\n            </View>\r\n          </TouchableOpacity>\r\n        )}\r\n        <TouchableOpacity onPress={() => deleteTodo(todo.id)}>\r\n          <View style={styles.actionIcon}>\r\n            <Icon name=\"delete\" size={20} color=\"white\" />\r\n          </View>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity onPress={() => editTodo(todo.id)}>\r\n          <View style={styles.actionIcon}>\r\n            <Icon name=\"edit\" size={20} color=\"white\" />\r\n          </View>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  };\r\n  return (\r\n    <SafeAreaView\r\n      style={{\r\n        flex: 1,\r\n        backgroundColor: \"blue\",\r\n      }}\r\n    >\r\n      <View style={styles.header}>\r\n        <Text\r\n          style={{\r\n            fontWeight: \"bold\",\r\n            fontSize: 20,\r\n            color: COLORS.primary,\r\n          }}\r\n        >\r\n          TODO APP\r\n        </Text>\r\n        <Icon name=\"delete\" size={25} color=\"red\" onPress={clearAllTodos} />\r\n      </View>\r\n      <FlatList\r\n        showsVerticalScrollIndicator={false}\r\n        contentContainerStyle={{ padding: 20, paddingBottom: 100 }}\r\n        data={todos}\r\n        onRefresh={getTodos}\r\n        renderItem={({ item }) => <ListItem todo={item} />}\r\n      />\r\n\r\n      <View style={styles.footer}>\r\n        <View style={styles.inputContainer}>\r\n          <TextInput\r\n            style={{\r\n              padding: 15,\r\n              marginHorizontal: -20,\r\n              borderRadius: 50,\r\n              border: \"none\",\r\n            }}\r\n            value={title}\r\n            placeholder=\"Add Todo\"\r\n            onChangeText={(text) => setTitle(text)}\r\n          />\r\n        </View>\r\n        <TouchableOpacity onPress={addTodo}>\r\n          <View style={styles.iconContainer}>\r\n            <Icon name=\"add\" color=\"white\" size={30} />\r\n          </View>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  footer: {\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    width: \"100%\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    paddingHorizontal: 20,\r\n    backgroundColor: \"#FF5757\",\r\n  },\r\n  inputContainer: {\r\n    height: 50,\r\n    paddingHorizontal: 20,\r\n    elevation: 40,\r\n    backgroundColor: COLORS.white,\r\n    flex: 1,\r\n    marginVertical: 20,\r\n    marginRight: 20,\r\n    borderRadius: 30,\r\n  },\r\n  iconContainer: {\r\n    height: 50,\r\n    width: 50,\r\n    backgroundColor: COLORS.primary,\r\n    elevation: 40,\r\n    borderRadius: 25,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  listItem: {\r\n    padding: 20,\r\n    backgroundColor: COLORS.white,\r\n    flexDirection: \"row\",\r\n    elevation: 12,\r\n    borderRadius: 7,\r\n    marginVertical: 10,\r\n  },\r\n  actionIcon: {\r\n    height: 25,\r\n    width: 25,\r\n    backgroundColor: COLORS.white,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"red\",\r\n    marginLeft: 5,\r\n    borderRadius: 3,\r\n  },\r\n  header: {\r\n    padding: 20,\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n});\r\n\r\nexport default Todos;\r\n"]},"metadata":{},"sourceType":"module"}