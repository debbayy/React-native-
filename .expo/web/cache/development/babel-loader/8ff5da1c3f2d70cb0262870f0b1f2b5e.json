{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { animationType } from \"react-native-web/dist/index\";\nimport { Modal, Center, Input, Button, FormControl } from \"native-base\";\nimport Layout from \"../components/Layout\";\nimport Icon from \"@expo/vector-icons/MaterialIcons\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nvar COLORS = {\n  primary: \"#1f145c\",\n  white: \"#fff\"\n};\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\n\nvar Todos = function Todos() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      todos = _useState2[0],\n      setTodos = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      modalVisible = _useState4[0],\n      setModalVisible = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      showModal = _useState6[0],\n      setShowModal = _useState6[1];\n\n  var getTodos = function getTodos() {\n    var res;\n    return _regeneratorRuntime.async(function getTodos$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.get(\"https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos\"));\n\n          case 3:\n            res = _context.sent;\n            setTodos(res.data);\n            console.log(res);\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            alert(\"Data Not Found\");\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  var _useState7 = useState({\n    title: \"\"\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      title = _useState8[0],\n      setTitle = _useState8[1];\n\n  var addTodo = function addTodo() {\n    var _data, adddata, response;\n\n    return _regeneratorRuntime.async(function addTodo$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _data = {\n              title: title\n            };\n            adddata = \"https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos\";\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(axios.post(\"\" + adddata, _data));\n\n          case 5:\n            response = _context2.sent;\n            getTodos();\n            setTitle(\"\");\n            console.log(response);\n            _context2.next = 14;\n            break;\n\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 11]], Promise);\n  };\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      action = _useState10[0],\n      setAction = _useState10[1];\n\n  var handleDelete = function handleDelete(id) {\n    return _regeneratorRuntime.async(function handleDelete$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            console.log(id);\n            _context3.next = 4;\n            return _regeneratorRuntime.awrap(axios.delete(\"https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos/\" + id));\n\n          case 4:\n            setAction(!action);\n            _context3.next = 10;\n            break;\n\n          case 7:\n            _context3.prev = 7;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.log(_context3.t0);\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      idUpdate = _useState12[0],\n      setIdUpdate = _useState12[1];\n\n  var btnUpdateTodo = function btnUpdateTodo(id) {\n    return _regeneratorRuntime.async(function btnUpdateTodo$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            try {\n              console.log(id);\n              setShowModal(true), setIdUpdate(id);\n            } catch (error) {\n              alert(\"Failed to delete resource\");\n              console.log(error);\n            }\n\n          case 1:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var updateTodo = function updateTodo() {\n    var response;\n    return _regeneratorRuntime.async(function updateTodo$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n            _context5.next = 3;\n            return _regeneratorRuntime.awrap(axios.patch(\"https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos/\" + idUpdate, title));\n\n          case 3:\n            response = _context5.sent;\n            console.log(response);\n            setShowModal(false);\n            setTodos([]);\n            getTodos();\n            setTodos(data.data);\n            _context5.next = 14;\n            break;\n\n          case 11:\n            _context5.prev = 11;\n            _context5.t0 = _context5[\"catch\"](0);\n            console.log(_context5.t0);\n\n          case 14:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, [[0, 11]], Promise);\n  };\n\n  var btnDoneTodo = function btnDoneTodo(id) {\n    return _regeneratorRuntime.async(function btnDoneTodo$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            try {} catch (error) {\n              alert(\"Failed to delete resource\");\n              console.log(error);\n            }\n\n          case 1:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    getTodos();\n  }, [action]);\n  return React.createElement(View, {\n    style: {\n      height: \"100%\",\n      backgroundColor: \"#fda4af\"\n    }\n  }, React.createElement(Center, null, React.createElement(Modal, {\n    isOpen: showModal,\n    onClose: function onClose() {\n      return setShowModal(false);\n    }\n  }, React.createElement(Modal.Content, {\n    maxWidth: \"400px\"\n  }, React.createElement(Modal.CloseButton, null), React.createElement(Modal.Header, null, \"Edit Todo\"), React.createElement(Modal.Body, null, React.createElement(FormControl, null, React.createElement(FormControl.Label, null, \"Title\"), React.createElement(Input, {\n    onChangeText: function onChangeText(text) {\n      return setTitle({\n        title: text\n      });\n    }\n  }))), React.createElement(Modal.Footer, null, React.createElement(Button.Group, {\n    space: 2\n  }, React.createElement(Button, {\n    onPress: function onPress() {\n      return updateTodo();\n    },\n    value: title\n  }, \"Save\")))))), React.createElement(Text, {\n    style: {\n      fontWeight: \"bold\",\n      fontSize: 20,\n      color: COLORS.primary,\n      textAlign: \"center\",\n      marginVertical: 20\n    }\n  }, \"TODO APP\"), React.createElement(View, {\n    style: {\n      display: \"flex\",\n      width: \"100%\",\n      marginHorizontal: -20\n    }\n  }, todos.map(function (item) {\n    return React.createElement(View, {\n      style: styles.listItem,\n      key: item._id\n    }, React.createElement(View, {\n      style: {\n        flex: 1\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontWeight: \"bold\",\n        fontSize: 15,\n        color: COLORS.primary\n      }\n    }, item.title)), React.createElement(TouchableOpacity, null, React.createElement(View, {\n      style: [styles.actionIcon, {\n        backgroundColor: \"green\"\n      }]\n    }, React.createElement(Icon, {\n      name: \"done\",\n      size: 20,\n      color: \"white\"\n    }))), React.createElement(TouchableOpacity, null, React.createElement(View, {\n      style: styles.actionIcon\n    }, React.createElement(Icon, {\n      onPress: function onPress() {\n        return handleDelete(item._id);\n      },\n      name: \"delete\",\n      size: 20,\n      color: \"white\"\n    }))), React.createElement(TouchableOpacity, null, React.createElement(View, {\n      style: styles.actionIcon\n    }, React.createElement(Icon, {\n      onPress: function onPress() {\n        return btnUpdateTodo(item._id);\n      },\n      name: \"edit\",\n      size: 20,\n      color: \"white\"\n    }))));\n  })), React.createElement(View, {\n    style: styles.footer\n  }, React.createElement(View, {\n    style: styles.inputContainer\n  }, React.createElement(TextInput, {\n    style: {\n      padding: 5,\n      marginHorizontal: -20,\n      borderRadius: 50,\n      border: \"none\"\n    },\n    value: title,\n    placeholder: \"Add Todo\",\n    onChangeText: function onChangeText(text) {\n      return setTitle(text);\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: addTodo\n  }, React.createElement(View, {\n    style: styles.iconContainer\n  }, React.createElement(Icon, {\n    name: \"add\",\n    color: \"white\",\n    size: 30\n  })))));\n};\n\nvar styles = StyleSheet.create({\n  footer: {\n    position: \"absolute\",\n    bottom: 0,\n    width: \"100%\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingHorizontal: 20,\n    backgroundColor: \"#fda4af\"\n  },\n  inputContainer: {\n    height: 30,\n    paddingHorizontal: 20,\n    elevation: 40,\n    backgroundColor: COLORS.white,\n    flex: 1,\n    borderRadius: 30\n  },\n  iconContainer: {\n    height: 50,\n    width: 50,\n    backgroundColor: COLORS.primary,\n    elevation: 40,\n    borderRadius: 25,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  listItem: {\n    padding: 20,\n    backgroundColor: COLORS.white,\n    flexDirection: \"row\",\n    elevation: 12,\n    borderRadius: 7,\n    marginVertical: 10\n  },\n  actionIcon: {\n    height: 25,\n    width: 25,\n    backgroundColor: COLORS.white,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"red\",\n    marginLeft: 5,\n    borderRadius: 3\n  },\n  header: {\n    padding: 20,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    margin: 20,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 35,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5\n  },\n  button: {\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2\n  },\n  buttonOpen: {\n    backgroundColor: \"#F194FF\"\n  },\n  buttonClose: {\n    backgroundColor: \"#2196F3\"\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  }\n});\nexport default Todos;","map":{"version":3,"sources":["D:/debbayy/Calculator&todo/src/components/todos.js"],"names":["React","useState","animationType","Modal","Center","Input","Button","FormControl","Layout","Icon","AsyncStorage","COLORS","primary","white","axios","useEffect","Todos","todos","setTodos","modalVisible","setModalVisible","showModal","setShowModal","getTodos","get","res","data","console","log","alert","title","setTitle","addTodo","adddata","post","response","action","setAction","handleDelete","id","delete","idUpdate","setIdUpdate","btnUpdateTodo","error","updateTodo","patch","btnDoneTodo","height","backgroundColor","text","fontWeight","fontSize","color","textAlign","marginVertical","display","width","marginHorizontal","map","item","styles","listItem","_id","flex","actionIcon","footer","inputContainer","padding","borderRadius","border","iconContainer","StyleSheet","create","position","bottom","flexDirection","alignItems","paddingHorizontal","elevation","justifyContent","marginLeft","header","centeredView","marginTop","modalView","margin","shadowColor","shadowOffset","shadowOpacity","shadowRadius","button","buttonOpen","buttonClose","textStyle","modalText","marginBottom"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  SafeAreaView,\r\n  View,\r\n  ScrollView,\r\n  TextInput,\r\n  Text,\r\n  FlatList,\r\n  TouchableOpacity,\r\n  KeyboardAvoidingView,\r\n  Alert,\r\n  Platform,\r\n  animationType,\r\n} from \"react-native\";\r\nimport { Modal, Center, Input, Button, FormControl } from \"native-base\";\r\nimport Layout from \"../components/Layout\";\r\nimport Icon from \"react-native-vector-icons/MaterialIcons\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nconst COLORS = { primary: \"#1f145c\", white: \"#fff\" };\r\nimport axios from \"axios\";\r\n\r\nimport { useEffect } from \"react\";\r\n\r\nconst Todos = () => {\r\n  const [todos, setTodos] = useState([]);\r\n  const [modalVisible, setModalVisible] = useState(true);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const getTodos = async () => {\r\n    /*  setIsLoading(true); */\r\n    try {\r\n      const res = await axios.get(\r\n        \"https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos\"\r\n      );\r\n\r\n      setTodos(res.data);\r\n      console.log(res);\r\n    } catch (error) {\r\n      alert(\"Data Not Found\");\r\n      /* setIsLoading(false); */\r\n    }\r\n  };\r\n\r\n  const [title, setTitle] = useState({ title: \"\" });\r\n  const addTodo = async () => {\r\n    try {\r\n      const data = {\r\n        title,\r\n      };\r\n\r\n      const adddata =\r\n        \"https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos\";\r\n\r\n      const response = await axios.post(`${adddata}`, data);\r\n      getTodos();\r\n      setTitle(\"\");\r\n\r\n      console.log(response);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const [action, setAction] = useState(false);\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      console.log(id);\r\n      await axios.delete(\r\n        `https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos/${id}`\r\n      );\r\n      setAction(!action);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  // btn update todo\r\n  const [idUpdate, setIdUpdate] = useState();\r\n  const btnUpdateTodo = async (id) => {\r\n    try {\r\n      console.log(id);\r\n      setShowModal(true), setIdUpdate(id);\r\n    } catch (error) {\r\n      alert(\"Failed to delete resource\");\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  // update todo\r\n  /* const [newTodo, setNewTodo] = useState(); */\r\n  const updateTodo = async () => {\r\n    try {\r\n      const response = await axios.patch(\r\n        `https://api.kontenbase.com/query/api/v1/b97b9784-95d8-4abd-806b-18875d222b49/todos/${idUpdate}`,\r\n        title\r\n      );\r\n      console.log(response);\r\n      setShowModal(false);\r\n      setTodos([]);\r\n      getTodos();\r\n      setTodos(data.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const btnDoneTodo = async (id) => {\r\n    try {\r\n    } catch (error) {\r\n      alert(\"Failed to delete resource\");\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getTodos();\r\n  }, [action]);\r\n\r\n  return (\r\n    <View style={{ height: \"100%\", backgroundColor: \"#fda4af\" }}>\r\n      <Center>\r\n        <Modal isOpen={showModal} onClose={() => setShowModal(false)}>\r\n          <Modal.Content maxWidth=\"400px\">\r\n            <Modal.CloseButton />\r\n            <Modal.Header>Edit Todo</Modal.Header>\r\n            <Modal.Body>\r\n              <FormControl>\r\n                <FormControl.Label>Title</FormControl.Label>\r\n                <Input\r\n                  onChangeText={(text) => setTitle({ title: text })}\r\n                  //   value={title}\r\n                />\r\n              </FormControl>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button.Group space={2}>\r\n                {/* <Button\r\n                  variant=\"ghost\"\r\n                  colorScheme=\"blueGray\"\r\n                  onPress={() => {\r\n                    setShowModal(false);\r\n                  }}\r\n                >\r\n                  Cancel\r\n                </Button> */}\r\n                <Button onPress={() => updateTodo()} value={title}>\r\n                  Save\r\n                </Button>\r\n              </Button.Group>\r\n            </Modal.Footer>\r\n          </Modal.Content>\r\n        </Modal>\r\n      </Center>\r\n      <Text\r\n        style={{\r\n          fontWeight: \"bold\",\r\n          fontSize: 20,\r\n          color: COLORS.primary,\r\n          textAlign: \"center\",\r\n          marginVertical: 20,\r\n        }}\r\n      >\r\n        TODO APP\r\n      </Text>\r\n\r\n      <View style={{ display: \"flex\", width: \"100%\", marginHorizontal: -20 }}>\r\n        {todos.map((item) => {\r\n          return (\r\n            <View style={styles.listItem} key={item._id}>\r\n              <View style={{ flex: 1 }}>\r\n                <Text\r\n                  style={{\r\n                    fontWeight: \"bold\",\r\n                    fontSize: 15,\r\n                    color: COLORS.primary,\r\n                    // textDecorationLine: item?.completed\r\n                    //   ? \"line-through\"\r\n                    //   : \"none\",\r\n                  }}\r\n                >\r\n                  {item.title}\r\n                </Text>\r\n              </View>\r\n\r\n              <TouchableOpacity>\r\n                <View style={[styles.actionIcon, { backgroundColor: \"green\" }]}>\r\n                  <Icon name=\"done\" size={20} color=\"white\" />\r\n                </View>\r\n              </TouchableOpacity>\r\n\r\n              <TouchableOpacity>\r\n                <View style={styles.actionIcon}>\r\n                  <Icon\r\n                    onPress={() => handleDelete(item._id)}\r\n                    name=\"delete\"\r\n                    size={20}\r\n                    color=\"white\"\r\n                  />\r\n                </View>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity>\r\n                <View style={styles.actionIcon}>\r\n                  <Icon\r\n                    onPress={() => btnUpdateTodo(item._id)}\r\n                    name=\"edit\"\r\n                    size={20}\r\n                    color=\"white\"\r\n                  />\r\n                </View>\r\n              </TouchableOpacity>\r\n            </View>\r\n          );\r\n        })}\r\n      </View>\r\n      <View style={styles.footer}>\r\n        <View style={styles.inputContainer}>\r\n          <TextInput\r\n            style={{\r\n              padding: 5,\r\n              marginHorizontal: -20,\r\n              borderRadius: 50,\r\n              border: \"none\",\r\n            }}\r\n            value={title}\r\n            placeholder=\"Add Todo\"\r\n            onChangeText={(text) => setTitle(text)}\r\n          />\r\n        </View>\r\n        <TouchableOpacity onPress={addTodo}>\r\n          <View style={styles.iconContainer}>\r\n            <Icon name=\"add\" color=\"white\" size={30} />\r\n          </View>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  footer: {\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    width: \"100%\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    paddingHorizontal: 20,\r\n    backgroundColor: \"#fda4af\",\r\n  },\r\n  inputContainer: {\r\n    height: 30,\r\n    paddingHorizontal: 20,\r\n    elevation: 40,\r\n    backgroundColor: COLORS.white,\r\n    flex: 1,\r\n    borderRadius: 30,\r\n  },\r\n  iconContainer: {\r\n    height: 50,\r\n    width: 50,\r\n    backgroundColor: COLORS.primary,\r\n    elevation: 40,\r\n    borderRadius: 25,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  listItem: {\r\n    padding: 20,\r\n    backgroundColor: COLORS.white,\r\n    flexDirection: \"row\",\r\n    elevation: 12,\r\n    borderRadius: 7,\r\n    marginVertical: 10,\r\n  },\r\n  actionIcon: {\r\n    height: 25,\r\n    width: 25,\r\n    backgroundColor: COLORS.white,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"red\",\r\n    marginLeft: 5,\r\n    borderRadius: 3,\r\n  },\r\n  header: {\r\n    padding: 20,\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  centeredView: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    marginTop: 22,\r\n  },\r\n  modalView: {\r\n    margin: 20,\r\n    backgroundColor: \"white\",\r\n    borderRadius: 20,\r\n    padding: 35,\r\n    alignItems: \"center\",\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2,\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 4,\r\n    elevation: 5,\r\n  },\r\n  button: {\r\n    borderRadius: 20,\r\n    padding: 10,\r\n    elevation: 2,\r\n  },\r\n  buttonOpen: {\r\n    backgroundColor: \"#F194FF\",\r\n  },\r\n  buttonClose: {\r\n    backgroundColor: \"#2196F3\",\r\n  },\r\n  textStyle: {\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n    textAlign: \"center\",\r\n  },\r\n  modalText: {\r\n    marginBottom: 15,\r\n    textAlign: \"center\",\r\n  },\r\n});\r\n\r\nexport default Todos;\r\n"]},"metadata":{},"sourceType":"module"}